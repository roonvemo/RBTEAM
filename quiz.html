<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ù…Ù‡Ø§Ù… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© - Royal Bee (Admin) - Ø§Ù„ØªØ¯Ø±ÙŠØ¨</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{ --orange:#FF751F; --glass: rgba(255,255,255,0.18); --glass-strong: rgba(255,255,255,0.28); --text:#072022; --muted:#666; --shadow: rgba(0,0,0,0.12); } 
*{box-sizing:border-box} 
html,body{height:100%;margin:0;font-family:'Tajawal',sans-serif;background:linear-gradient(135deg,#f6fbff,#e9f6f2);color:var(--text);-webkit-font-smoothing:antialiased;} 
.container{max-width:1100px;margin:80px auto 120px;padding:20px;} 
.header-row{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:18px} 
.title {font-size:22px;color:var(--orange);font-weight:700} 
.top-controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center} 
#workflowBtn{position:fixed;top:14px;right:14px;width:52px;height:52px;border-radius:50%;background:var(--glass-strong);display:flex;align-items:center;justify-content:center;box-shadow:0 6px 18px var(--shadow);z-index:1001;text-decoration:none;color:var(--orange)} 
#workflowBtn:hover{transform:scale(1.05);background:var(--orange);color:#fff} 
.section{display:none;background:var(--glass);backdrop-filter:blur(8px);border-radius:14px;padding:18px;margin-bottom:22px;box-shadow:0 8px 30px var(--shadow)} 
.section.active{display:block} 
.grid-2{display:grid;grid-template-columns:1fr 420px;gap:18px} 
@media(max-width:920px){.grid-2{grid-template-columns:1fr;}} 
.card{background:rgba(255,255,255,0.08);padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);box-shadow:0 6px 18px rgba(0,0,0,0.06)} 
label{display:block;margin:8px 0 6px;font-weight:700} 
input[type="text"], input[type="time"], input[type="search"], select, textarea{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);background:#fff} 
textarea{min-height:90px;resize:vertical} 
.btn, .small-btn{background:var(--orange);color:#fff;border:none;padding:10px 14px;border-radius:12px;cursor:pointer;font-weight:700} 
.small-btn{padding:6px 10px;border-radius:10px} 
.ghost{background:transparent;border:1px solid rgba(0,0,0,0.06);color:var(--text);padding:8px 10px;border-radius:10px} 
.preview-box img, .preview-box video, .preview-box iframe{max-width:100%;border-radius:10px;display:block;margin-bottom:6px} 
.bottom-bar{position:fixed;bottom:0;right:0;left:0;height:64px;background:rgba(255,255,255,0.92);backdrop-filter:blur(8px);display:flex;justify-content:space-around;align-items:center;border-top:1px solid rgba(0,0,0,0.06);box-shadow:0 -8px 18px rgba(0,0,0,0.06);z-index:1000} 
.bottom-bar a img{width:28px;height:28px;display:block;cursor:pointer;opacity:0.95;transition:transform .15s} 
.bottom-bar a img:hover{transform:scale(1.15)} 
.controls-row{display:flex;gap:8px;align-items:center;flex-wrap:wrap} 
.kv{font-size:13px;color:var(--muted)} 
.days-container, .months-container{display:flex;flex-wrap:wrap;gap:6px;max-height:120px;overflow-y:auto;border:1px solid #ccc;padding:6px;border-radius:6px;background:#fff;margin-bottom:6px;}
</style>
</head>
<body>

<a id="workflowBtn" href="quiz.html" title="Workflow">âš™ï¸</a>

<div class="container">
  <div class="header-row">
    <div>
      <div class="title">Ù„ÙˆØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„ â€” Admin Panel</div>
      <div class="kv">ØªØ­ÙƒÙ… Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§ØªØŒ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ØŒ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø§Ø±ØªÙ‚Ø§Ø¡ØŒ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§ØªØŒ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</div>
    </div>
  </div>

  <!-- QUIZ -->
  <section id="quiz" class="section active">
    <h3>ğŸ¯ Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ (Quiz)</h3>
    <div class="grid-2">
      <div>
        <label>ØµÙˆØ±Ø© / ÙÙŠØ¯ÙŠÙˆ / Ø±Ø§Ø¨Ø· Ø£Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙˆÙŠØ²</label>
        <input type="file" id="quizFile" accept="image/*,video/*" />
        <div class="preview-box" id="quizPreviewMedia"></div>

        <label>Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
        <input type="text" id="quizLink" placeholder="Ø¶Ø¹ Ø±Ø§Ø¨Ø· YouTube Ù‡Ù†Ø§" />
        <div class="preview-box" id="quizPreviewYouTube"></div>

        <label>Ø§Ù„Ø³Ø¤Ø§Ù„</label>
        <textarea id="quizQuestion" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù‡Ù†Ø§..."></textarea>

        <label>Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</label>
        <input type="text" id="opt1" placeholder="Ø®ÙŠØ§Ø± 1" />
        <input type="text" id="opt2" placeholder="Ø®ÙŠØ§Ø± 2" />
        <input type="text" id="opt3" placeholder="Ø®ÙŠØ§Ø± 3" />
        <input type="text" id="opt4" placeholder="Ø®ÙŠØ§Ø± 4" />

        <label>Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©</label>
        <select id="correctOpt">
          <option value="1">Ø®ÙŠØ§Ø± 1</option>
          <option value="2">Ø®ÙŠØ§Ø± 2</option>
          <option value="3">Ø®ÙŠØ§Ø± 3</option>
          <option value="4">Ø®ÙŠØ§Ø± 4</option>
        </select>

        <!-- Ø§Ø®ØªÙŠØ§Ø± Ø£ÙŠØ§Ù… Ø§Ù„Ù†Ø´Ø± -->
        <label>Ø§Ø®ØªØ± Ø£ÙŠØ§Ù… Ø§Ù„Ù†Ø´Ø±:</label>
        <div class="days-container" id="daysContainer"></div>

        <!-- Ø§Ø®ØªÙŠØ§Ø± Ø£Ø´Ù‡Ø± Ø§Ù„Ù†Ø´Ø± -->
        <label>Ø§Ø®ØªØ± Ø£Ø´Ù‡Ø± Ø§Ù„Ù†Ø´Ø±:</label>
        <div class="months-container" id="monthsContainer"></div>

        <!-- Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù†Ø´Ø± -->
        <label>Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù†Ø´Ø±:</label>
        <div style="display:flex;gap:8px;">
          <label><input type="checkbox" value="09:00" checked> 09:00</label>
          <label><input type="checkbox" value="18:00" checked> 18:00</label>
          <label><input type="checkbox" value="21:00" checked> 21:00</label>
        </div>

        <div style="margin-top:8px" class="controls-row">
          <button class="btn" id="saveQuizBtn">Ø­ÙØ¸ Ø§Ù„ØªØ¯Ø±ÙŠØ¨</button>
        </div>
      </div>
      <div>
        <h4>Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨</h4>
        <div class="card" id="quizPreviewCard">
          <div id="quizPreviewTitle" style="font-weight:700;margin-bottom:8px">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø¨Ø¹Ø¯</div>
          <div id="quizPreviewBody" style="margin-top:10px;color:var(--muted)"></div>
        </div>
      </div>
    </div>
  </section>

</div>

<!-- bottom bar -->
<div class="bottom-bar">
  <a href="index.html"><img src="assets/icons/home.png" alt="home"></a>
  <a href="chatrooms.html"><img src="assets/icons/chat.png" alt="chat"></a>
  <a href="tasks.html"><img src="assets/icons/taches.png" alt="tasks"></a>
  <a href="upgrade-demande.html"><img src="assets/icons/up.png" alt="upgrade"></a>
  <a href="profile.html"><img src="assets/icons/profile.png" alt="profile"></a>
</div>

<script>
// Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ø£ÙŠØ§Ù… 1-31
const daysContainer = document.getElementById('daysContainer');
for(let i=1;i<=31;i++){
  const lbl = document.createElement('label');
  lbl.innerHTML = `<input type="checkbox" value="${i}"> ${i}`;
  daysContainer.appendChild(lbl);
}

// Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø´Ù‡Ø±
const monthsContainer = document.getElementById('monthsContainer');
const monthNames = ["ÙŠÙ†Ø§ÙŠØ±","ÙØ¨Ø±Ø§ÙŠØ±","Ù…Ø§Ø±Ø³","Ø£Ø¨Ø±ÙŠÙ„","Ù…Ø§ÙŠÙˆ","ÙŠÙˆÙ†ÙŠÙˆ","ÙŠÙˆÙ„ÙŠÙˆ","Ø£ØºØ³Ø·Ø³","Ø³Ø¨ØªÙ…Ø¨Ø±","Ø£ÙƒØªÙˆØ¨Ø±","Ù†ÙˆÙÙ…Ø¨Ø±","Ø¯ÙŠØ³Ù…Ø¨Ø±"];
for(let i=0;i<12;i++){
  const lbl = document.createElement('label');
  lbl.innerHTML = `<input type="checkbox" value="${i+1}"> ${monthNames[i]}`;
  monthsContainer.appendChild(lbl);
}

// ---------- QUIZ preview/save ----------
// Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ù„Ù (ØµÙˆØ±Ø© Ø£Ùˆ ÙÙŠØ¯ÙŠÙˆ)
document.getElementById('quizFile').addEventListener('change',e=>{
  const f=e.target.files[0], target=document.getElementById('quizPreviewMedia');
  target.innerHTML='';
  if(!f) return;
  if(f.type.startsWith('image/')){
    const img=document.createElement('img');
    img.src=URL.createObjectURL(f);
    target.appendChild(img);
  } else if(f.type.startsWith('video/')){
    const v=document.createElement('video');
    v.controls=true;
    v.src=URL.createObjectURL(f);
    target.appendChild(v);
  }
});

// Ù…Ø¹Ø§ÙŠÙ†Ø© Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨ ÙƒØµÙˆØ±Ø© ÙˆÙÙŠØ¯ÙŠÙˆ
document.getElementById('quizLink').addEventListener('input',()=>{
  const link = document.getElementById('quizLink').value.trim();
  const container = document.getElementById('quizPreviewYouTube');
  container.innerHTML = '';
  const ytMatch = link.match(/(?:https?:\/\/)?(?:www\.)?youtube\.com\/watch\?v=([a-zA-Z0-9_-]+)/) 
                || link.match(/(?:https?:\/\/)?(?:www\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);
  if(ytMatch){
    const videoId = ytMatch[1];
    // Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…ØµØºØ±Ø© Ù„Ù„ÙÙŠØ¯ÙŠÙˆ
    const thumb = document.createElement('img');
    thumb.src = `https://img.youtube.com/vi/${videoId}/0.jpg`;
    container.appendChild(thumb);
    // iframe ØªØ­Øª Ø§Ù„ØµÙˆØ±Ø©
    const iframe = document.createElement('iframe');
    iframe.width = '100%';
    iframe.height = '220';
    iframe.src = `https://www.youtube.com/embed/${videoId}`;
    iframe.frameBorder = '0';
    iframe.allowFullscreen = true;
    container.appendChild(iframe);
  }
});

// Ø­ÙØ¸ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ù…Ø¹ Ø§Ù„Ø£ÙŠØ§Ù… ÙˆØ§Ù„Ø£Ø´Ù‡Ø± ÙˆØ§Ù„Ø£ÙˆÙ‚Ø§Øª
document.getElementById('saveQuizBtn').addEventListener('click',()=>{
  const selectedDays = Array.from(daysContainer.querySelectorAll('input:checked')).map(i=>i.value);
  const selectedMonths = Array.from(monthsContainer.querySelectorAll('input:checked')).map(i=>i.value);
  const selectedTimes = Array.from(document.querySelectorAll('div input[type="checkbox"]:checked')).map(i=>i.value);
  alert(`ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ (Ù…Ø­Ù„ÙŠØ§Ù‹ - ØªØ¬Ø±ÙŠØ¨ÙŠ).\nØ§Ù„Ø£ÙŠØ§Ù…: ${selectedDays.join(', ')}\nØ§Ù„Ø£Ø´Ù‡Ø±: ${selectedMonths.join(', ')}\nØ§Ù„Ø£ÙˆÙ‚Ø§Øª: ${selectedTimes.join(', ')}`);
});

// preview question text
document.getElementById('quizQuestion').addEventListener('input', ()=>{
  document.getElementById('quizPreviewTitle').textContent = document.getElementById('quizQuestion').value.slice(0,80);
});
</script>

</body>
</html>
